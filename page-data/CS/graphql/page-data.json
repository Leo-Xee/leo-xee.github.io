{"componentChunkName":"component---src-templates-blog-post-js","path":"/CS/graphql/","result":{"data":{"site":{"siteMetadata":{"title":"leo-xee.io","author":"Leo-Xee","siteUrl":"https://leo-xee.github.io","comment":{"disqusShortName":"","utterances":"leo-xee/blog-comments"},"sponsor":{"buyMeACoffeeId":"leoxexe"}}},"markdownRemark":{"id":"bca522b5-deeb-5731-a590-92b9521d462b","excerpt":"이 글은 GitHub-Graph 프로젝트를 진행하면서 처음 사용해본 GraphQL의 개념을 정리합니다. GraphQL이란?  GraphQL은 Graph Query Language의 약자로써 페이스북에서 내부적으로 사용하다가 2015년에 공개된 쿼리 언어이다. 이는 REST의 대안이 되며 REST가 하나의 구현체가 아닌 명세이듯이 GraphQL도 구현체가 아닌 하나의 명세이다. GraphQL의 구현체는 공식문서에 정리되어있듯이 다양한데 프론트엔드 개발자 입장에서 익숙한 구현체는 Apollo…","html":"<p><img src=\"/9c1cdd29fb4797204c0ea6281b1cf97d/thumbNail.gif\"></p>\n<p>이 글은 <a href=\"https://github.com/Leo-Xee/github-graph\">GitHub-Graph 프로젝트</a>를 진행하면서 처음 사용해본 GraphQL의 개념을 정리합니다.</p>\n<h1 id=\"graphql이란\" style=\"position:relative;\"><a href=\"#graphql%EC%9D%B4%EB%9E%80\" aria-label=\"graphql이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQL이란?</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRmAAAABXRUJQVlA4IFQAAAAwAwCdASoUAAgAPtFUpEuoJKOhsAgBABoJZQAAUqvzvM/AAP7yO4wXrv0kHEP2jTKZMmr01IB38QG14SHlCforBLwe9YA33QUMXpd7gJwkkbxxAAA='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림1. GraphQL 로고\"\n        title=\"그림1. GraphQL 로고\"\n        src=\"/static/8ee09066d903256bc325848374943472/a5d4d/graphql-01.webp\"\n        srcset=\"/static/8ee09066d903256bc325848374943472/c85cb/graphql-01.webp 300w,\n/static/8ee09066d903256bc325848374943472/e88ff/graphql-01.webp 600w,\n/static/8ee09066d903256bc325848374943472/a5d4d/graphql-01.webp 1000w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><strong>GraphQL은 Graph Query Language의 약자로써 페이스북에서 내부적으로 사용하다가 2015년에 공개된 쿼리 언어이다.</strong> 이는 REST의 대안이 되며 REST가 하나의 구현체가 아닌 명세이듯이 GraphQL도 구현체가 아닌 하나의 <a href=\"https://github.com/graphql/graphql-spec\">명세</a>이다. GraphQL의 구현체는 <a href=\"https://graphql.org/code/\">공식문서</a>에 정리되어있듯이 다양한데 프론트엔드 개발자 입장에서 익숙한 구현체는 Apollo, graphql-yoga, Relay, AWS Amplify 정도가 있겠다.</p>\n<p>그럼 GraphQL은 정확히 어떤 역할을 하는걸까? 먼저 쿼리 언어라는 단어가 익숙하지 않을 수 있는데 우리는 이미 SQL이라는 쿼리 언어를 알고 있다. SQL은 Structed Query Language로써 서버가 DBMS한테 원하는 데이터를 요청하고 응답받는 것이 주요 역할이라면 <strong>GraphQL은 클라이언트가 서버에게 데이터를 요청하고 응답받는것이 주요 역할이다. 즉, APIs를 위한 쿼리 언어인셈이다.</strong></p>\n<h2 id=\"등장-배경\" style=\"position:relative;\"><a href=\"#%EB%93%B1%EC%9E%A5-%EB%B0%B0%EA%B2%BD\" aria-label=\"등장 배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>등장 배경</h2>\n<p>새로운 기술은 기존 기술의 약점을 기반으로 자라는 법이다. 그렇다면 GraphQL이 개선하고자한 REST의 단점은 무엇이었을까? 예시를 통해 알아보자.</p>\n<p>다음 예시는 GitHub REST API를 사용해 한 유저의 정보를 GET 요청해서 받은 응답이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// GET /users/{username}</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"octocat\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"node_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"MDQ6VXNlcjE=\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"avatar_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/images/error/octocat_happy.gif\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"gravatar_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"html_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/octocat\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"followers_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/followers\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"following_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/following{/other_user}\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"gists_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/gists{/gist_id}\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"starred_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/starred{/owner}{/repo}\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"subscriptions_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/subscriptions\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"organizations_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/orgs\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"repos_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/repos\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"events_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/events{/privacy}\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"received_events_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.github.com/users/octocat/received_events\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"User\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"site_admin\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"monalisa octocat\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"company\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GitHub\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"blog\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/blog\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"location\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"San Francisco\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"octocat@github.com\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"hireable\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"bio\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"There once was...\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"twitter_username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"monatheoctocat\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"public_repos\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"public_gists\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"followers\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"following\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"created_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2008-01-14T04:33:35Z\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2008-01-14T04:33:35Z\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>하지만 내가 실제로 필요한 데이터가 <code class=\"language-text\">login</code>, <code class=\"language-text\">name</code>, <code class=\"language-text\">company</code>, <code class=\"language-text\">email</code>, <code class=\"language-text\">html_url</code>, <code class=\"language-text\">avatar_url</code>, <code class=\"language-text\">location</code> 정도라면 나머지 데이터는 네트워크 비용만 낭비하는 것이다. 이런 문제를 Over-Fetching 이라고한다. 또한 이 문제를 해결하고자 API를 더 쪼갠다면 요청한 데이터가 충분하지 않아서 추가적인 요청을 해야하는 Under-Fetching 문제가 필연적으로 발생할 것이다.</p>\n<ul>\n<li>Over-Fetching : 필요하지 않은 데이터를 너무 많이 가져오는 것</li>\n<li>Under-Fetching : 데이터를 충분히 가져오지 못해서 추가 요청을 해야하는 것</li>\n</ul>\n<br>\n<p><strong>이러한 문제를 GraphQL은 클라이언트에서 필요한 데이터의 구조를 정의해서 요청할 수 있도록 해서 REST의 문제를 해결한다.</strong></p>\n<p>아래의 코드는 위 예시에서 필요한 데이터만 요청하는 GraphQL의 Query와 응답이다. 원하는 데이터의 구조로 요청해서 응답을 받을 수 있음을 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"q\"><pre class=\"language-q\"><code class=\"language-q\">query <span class=\"token punctuation\">{</span>\n  user<span class=\"token punctuation\">(</span>login<span class=\"token verb operator\">:</span> <span class=\"token string\">\"leo-xee\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    login\n    name\n    email\n    websiteUrl\n    company\n    avatarUrl<span class=\"token punctuation\">(</span>size<span class=\"token verb operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n    location\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"data\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"user\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Leo-Xee\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Jangmin Lee\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"jang.xmin@gmail.com\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"websiteUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://leo-xee.github.io\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"company\"</span><span class=\"token operator\">:</span> <span class=\"token null keyword\">null</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"avatarUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://avatars.githubusercontent.com/u/21965795?s=200&amp;u=d5bd04940150788a2aa483bec04af776b26f5906&amp;v=4\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"location\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Seoul, South Korea\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"rest와-비교\" style=\"position:relative;\"><a href=\"#rest%EC%99%80-%EB%B9%84%EA%B5%90\" aria-label=\"rest와 비교 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>REST와 비교</h2>\n<p>REST와 GraphQL의 동작 방식의 대략적인 과정을 비교해보면 다음과 같다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACT0lEQVQoz5WTy2sTURTG70IQ/wBRcCk+FroXKS7E4mPnxoVLFwquCqUL0ZXgqsXqQqFUrY/SkqpViNgKTYitpk1IEyWJrUk6eU/S1MxMTFJjM5Ofk5k0duPCA9/lznfP+c493G9Eq9XCMAwL7f3/oh07NUTT5v4ZZhkGOnpL737rFuiK7QwBW1TlJIW0RFPX2xmoqopSLqNpKlalYSf/UrYw6paqyZuNOmK12iaryTKpnIK4s6gw4JKZ9EtkpTjpTBafz8cbp5OAb5lIPogj8RBHeITn4Xu8S00wUpAYTq9SqWiW4HouhjR7lZT3LkI8M6/5GK64ND6+n8YfDPElGCQy70aKpHi5Nsr5+H5OOffRu7iXa8nTHFdWOJAPUftpC2o5P0yYwy70IPaMqoihLP3eBvVkjFRCom6OapRL6NUGyykXY+mbPJJuMZIZYLJ0n5OxRY5F58lmMxRLGsmoi4XbAun1WcTup03E2G/6nmTZvDxK1uGnXi2DtEZjU6XoDFG56EDyuOkPXGIwOsAJaYkjYQ+ljXUaW5CPL5B6IPgxcwaxa9wc2QF9wwnkgzeIDc3g8nrwz7mZD3wmM+Yhf3iQ4NtxLgQOcT14jp5qnKPyV6rtRzNDyZgjvzJH/tSLmIqqvPimEQgXqX0Io6zkKJidw+EIuYKMliygzq0gSwmWNlyEil7cpTyzctp83aolWFFLlL9Ps7HmadumiQ3dNFDXId0wOqeGZZVtGB3irw+bnSPR5k1LYfGGvdl2vpXchlVsW9xe7UY7/xSLaRn8AeZsDX1tECMTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림3. REST와 GraphQ 비교\"\n        title=\"그림3. REST와 GraphQ 비교\"\n        src=\"/static/9268ea9a45ca2758652aa18d12ff9dcc/c1b63/graphql-02.png\"\n        srcset=\"/static/9268ea9a45ca2758652aa18d12ff9dcc/5a46d/graphql-02.png 300w,\n/static/9268ea9a45ca2758652aa18d12ff9dcc/0a47e/graphql-02.png 600w,\n/static/9268ea9a45ca2758652aa18d12ff9dcc/c1b63/graphql-02.png 1200w,\n/static/9268ea9a45ca2758652aa18d12ff9dcc/5faa8/graphql-02.png 1444w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"rest\" style=\"position:relative;\"><a href=\"#rest\" aria-label=\"rest permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>REST</h3>\n<ul>\n<li>URL과 HTTP 메소드를 조합해서 사용하기 때문에 다양한 엔드포인트를 사용한다.</li>\n<li>응답 구조가 미리 정의되어 있기 때문에 HTTP에 의해 캐시를 확실하게 관리할 수 있다.</li>\n<li>네트워크 요청의 횟수가 많아질 수 있고 불필요한 데이터를 포함한 응답을 받을 수 있다.</li>\n</ul>\n<h3 id=\"graphql\" style=\"position:relative;\"><a href=\"#graphql\" aria-label=\"graphql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQL</h3>\n<ul>\n<li>오직 하나의 엔드포인트만을 사용하고 주로 POST 메소드을 사용한다.</li>\n<li>파일과 같은 미디어 전송 처리가 REST보다 복잡하다.</li>\n<li>일반적인 경우에 네트워크 요청의 횟수와 사이즈를 줄일 수 있다.</li>\n<li>고정된 요청과 응답만을 할 경우에는 REST보다 네트워크 비용이 더 커질 수 있다.</li>\n</ul>\n<br >\n<p><strong>위의 비교에서 확인할 수 있듯이 GraphQL이 REST의 문제를 해결하기는 하지만 무조건 GraphQL이 좋다고는 할 수 없다. 그렇기 때문에 애플리케이션에 성격에 따라서 이점을 검토해보고 선택하는 것이 바람직할 것 같다.</strong></p>\n<h1 id=\"graphql의-구성요소\" style=\"position:relative;\"><a href=\"#graphql%EC%9D%98-%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C\" aria-label=\"graphql의 구성요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQL의 구성요소</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1083px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQUlEQVQoz2WSTUwTQRTH17MfFxMPJp48ejLBo0hijJFw8CtcJCZ6wKs349ETiTdOHkw8aGKiqKgRC0oapQZM+SjQD3a33W53t9ttS7v9oBRoYX/OloCCL/PLvJl585+XN09C2I5A0y1SaZO19S32zfP8IfD2+ddc16VarR7Yk0wtSja9yPLsJIlIEF2Zo2DFcWwDj//FisUiuq7jOA6KopBMJju+aZpUKhWk2pfzeKNHqL05QeHVMdofj9N+K+HMDdNiL/+9hD00TUOWZeLxOLFYjEQi0cEX90WlndBtCJ5ja7yL0miX8C/At7PUV14jazlUZaVzUVVVLMvqZBSPRpkLhwmMjTExHiCyME9CxPjn0mDR4LJr0mvE6dOX6c1rXKyYvHMsmsVVUdc0mUwG27aJCqGMaWGulrDdCtORJaKpNNmyS7ZUFjE5pJ78MifLS5xOBDkVCXAmG+aou8hzR8OMJciIV32xvKhTY2OToroCX0dg8hPy8BCll89g4gN8/0zOMJCyMynsHymskIb1S7w2JdbBJDnFEj+voci7hVdF3VKWTe7nJAxcodnfg3WzG+dWN+3+S3iDN3CSChIvFmAohPX4PcajEdwnAXgaxp2SqbearNXq1OsC0R4VkaETCsKD6+zc76M0cJXq3Wtwrxce3sFWZSQnlqYcNXDjJm7MpBwzKC3p2Npu2xy2vJGhPDuDOztNff43NYHvF8XeaqGA1Gxt0tjaOEST1nZ7v1X+9qHHtpgbrTaN9vYB1gV+zB9jpL5nisDbPwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림3. GraphQ의 구성요소\"\n        title=\"그림3. GraphQ의 구성요소\"\n        src=\"/static/d482bb4267e28c3594accbd7e89d223a/eb4a1/graphql-03.png\"\n        srcset=\"/static/d482bb4267e28c3594accbd7e89d223a/5a46d/graphql-03.png 300w,\n/static/d482bb4267e28c3594accbd7e89d223a/0a47e/graphql-03.png 600w,\n/static/d482bb4267e28c3594accbd7e89d223a/eb4a1/graphql-03.png 1083w\"\n        sizes=\"(max-width: 1083px) 100vw, 1083px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"query와-mutation-그리고-subscription\" style=\"position:relative;\"><a href=\"#query%EC%99%80-mutation-%EA%B7%B8%EB%A6%AC%EA%B3%A0-subscription\" aria-label=\"query와 mutation 그리고 subscription permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Query와 Mutation 그리고 Subscription</h2>\n<p><strong>GraphQL은 작업을 위한 타입으로 데이터 조회를 위한 Query와 데이터 추가, 수정, 삭제를 위한 Mutation 그리고 실시간 데이터 반영을 위한 Subscription을 제공한다.</strong></p>\n<ul>\n<li>Query, Mutation : 서버/클라이언트 모델, HTTP 프로토콜 사용</li>\n<li>Subscription : 발행/구독 모델, Web Socket 프로토콜 사용</li>\n</ul>\n<h2 id=\"schema\" style=\"position:relative;\"><a href=\"#schema\" aria-label=\"schema permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Schema</h2>\n<p><strong>Schema는 Query, Mutation, Subscription이 요청할 객체 데이터의 타입을 미리 정의해두는 역할을 한다.</strong></p>\n<p>Schema는 다음과 같은 구조를 가지며 <code class=\"language-text\">Scalar Types</code>를 기반으로 타입이 정의 되어야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"q\"><pre class=\"language-q\"><code class=\"language-q\"><span class=\"token keyword\">type</span> Character <span class=\"token punctuation\">{</span>\n  name<span class=\"token verb operator\">:</span> String<span class=\"token verb operator\">!</span>\n  appearsIn<span class=\"token verb operator\">:</span> <span class=\"token punctuation\">[</span>Episode<span class=\"token verb operator\">!</span><span class=\"token punctuation\">]</span><span class=\"token verb operator\">!</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"scalar-types\" style=\"position:relative;\"><a href=\"#scalar-types\" aria-label=\"scalar types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scalar types</h3>\n<ul>\n<li><code class=\"language-text\">Int</code> : 부호가 있는 32비트 정수</li>\n<li><code class=\"language-text\">Float</code> : 부호가 있는 부동소수점</li>\n<li><code class=\"language-text\">String</code> : UTF-8기반 문자열</li>\n<li><code class=\"language-text\">Boolean</code> : 논리값</li>\n<li><code class=\"language-text\">ID</code> : 유일한 식별자</li>\n</ul>\n<h3 id=\"object-types\" style=\"position:relative;\"><a href=\"#object-types\" aria-label=\"object types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Object types</h3>\n<ul>\n<li><code class=\"language-text\">Charactor</code> : GraphQL의 객체 타입</li>\n<li><code class=\"language-text\">String!</code> : <code class=\"language-text\">null</code>이 될수 없는 <code class=\"language-text\">String</code> 타입</li>\n<li><code class=\"language-text\">[Episode!]!</code> : <code class=\"language-text\">null</code>이 될 수 없는 <code class=\"language-text\">Episode</code> 객체 타입을 요소로 가지는 <code class=\"language-text\">null</code>이 될 수 없는 배열</li>\n</ul>\n<h2 id=\"resolver\" style=\"position:relative;\"><a href=\"#resolver\" aria-label=\"resolver permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resolver</h2>\n<p><strong>Resolver는 Query, Mutation, Subscription의 요청을 서버에서 처리하는 역할을 한다. 다음 코드와 같이 요청마다 어떻게 처리해서 응답을 줄지는 직접 구현해야한다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">Query<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">human</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> context<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span><span class=\"token function\">loadHumanByID</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>\n      userData <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Human</span><span class=\"token punctuation\">(</span>userData<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<h1 id=\"참조\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%A1%B0\" aria-label=\"참조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참조</h1>\n<ul>\n<li><a href=\"https://graphql.org/learn/\">https://graphql.org/learn/</a></li>\n<li><a href=\"https://tech.kakao.com/2019/08/01/graphql-basic/\">https://tech.kakao.com/2019/08/01/graphql-basic/</a></li>\n</ul>\n<br/>","frontmatter":{"title":"GraphQL","date":"July 20, 2022"}}},"pageContext":{"slug":"/CS/graphql/","previous":{"fields":{"slug":"/Error/react-webpack-process/"},"frontmatter":{"title":"Error: process is not defined"}},"next":{"fields":{"slug":"/TypeScript/graphql-codegen/"},"frontmatter":{"title":"GraphQL Code Generator로 타입선언 자동화하기"}}}},"staticQueryHashes":["2486386679","3128451518"]}