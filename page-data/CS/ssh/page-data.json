{"componentChunkName":"component---src-templates-blog-post-js","path":"/CS/ssh/","result":{"data":{"site":{"siteMetadata":{"title":"leo-xee.io","author":"Leo-Xee","siteUrl":"https://leo-xee.github.io","comment":{"disqusShortName":"","utterances":"leo-xee/blog-comments"},"sponsor":{"buyMeACoffeeId":"leoxexe"}}},"markdownRemark":{"id":"1b8e8b8a-e1c0-50f8-9fe2-38a5a1b12532","excerpt":"SSH란? SSH(Secure Shell)는 원격 호스트에 접속하기 위해 사용되는 보안 프로토콜이다. 기존 원격 접속은 텔넷(Telnet)이라는 방식을 사용했는데 암호화를 제공하지 않기 때문에 보안이 취약하다는 단점이 있었다. 이 때문에 이를 암호화하는 SSH가 등장했고 현재 원격 접속 보안을 위한 필수적인 요소로 자리 잡았다. 또한 클라우드 서비스에서 제공하는 서버는 기본적으로 원격 접속으로 접근하고 사용한다. 그래서 AWS와 같은 클라우드 서비스에서 서버 생성 시에 SSH…","html":"<p><img src=\"/9c1cdd29fb4797204c0ea6281b1cf97d/thumbNail.gif\"></p>\n<h1 id=\"ssh란\" style=\"position:relative;\"><a href=\"#ssh%EB%9E%80\" aria-label=\"ssh란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH란?</h1>\n<p><strong>SSH(Secure Shell)는 원격 호스트에 접속하기 위해 사용되는 보안 프로토콜이다.</strong> 기존 원격 접속은 텔넷(Telnet)이라는 방식을 사용했는데 암호화를 제공하지 않기 때문에 보안이 취약하다는 단점이 있었다. 이 때문에 이를 암호화하는 SSH가 등장했고 현재 원격 접속 보안을 위한 필수적인 요소로 자리 잡았다. 또한 클라우드 서비스에서 제공하는 서버는 기본적으로 원격 접속으로 접근하고 사용한다. 그래서 AWS와 같은 클라우드 서비스에서 서버 생성 시에 SSH를 기본적으로 사용한다.</p>\n<h1 id=\"동작-방식\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D\" aria-label=\"동작 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>동작 방식</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1046px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACqUlEQVQoz3WTWUhUYRTHv6SgXuwpe6iHJIgoH9IoiKjwIcIMIyQU1JSinaZICynqqaLlIYuMIM1U0ITMNooWaEGmBdxmxmWsmbnpjOPoNIvbnfHO3F+fo6ZF/e89fOdbzvnu/Z//Eei6fKOAzm/IeWwttjcx6P8weWYqRp86P7EuptNEZPxwCMbGJ1PHbCr49z1/zZExWog/IHQ9LIce/INNKMYK+lrqYVSB8f6ZuGg0ZtMYjvrxM8igasVkf4lfc+HVPIR1FRFpvkD4YAK+s6soflbHraeXCNbOp79yAZ7OBpxuHxaLSZoZ78BPbP3dHGlLo+DzGtI/XmbLhy/kWHLZ15nCjZ5iRPTTYYbyBe6iBE7XXaGk5hjBKsFQpWCkuwpVg5A6ihpS0dQI9mAX2da1ZLYuZ7OxkOS3T0hv3E5G8zKKLNkITAYiTwWW0nmM3xaM3RU4y+LQ6gQhew2+oQjBgI/gUFASDX2jDs4ZMzjfuJMzXzdywJ5I3ptkDLWplHYclxy2GNAfCMKF+yD3Pq7riwnUCvz3BcrnUlrbbZjNbfKXLThdfdiVdvoNZYQLamkqusjW56spbkhjJKsc681ymbDVAPJruLcI38Wl+Cvm4iqfgyYvwfOYvzGgOTlqTiW/exN7bJvIMqaw17yBvNcpXOrYLzlsPgQ1gnf1cVytjsMrkwcqJzlUv1fT6w5it33DodilEgLYh63kmJIpubOCkrKV5LalsMuUxIYXSyiy7pYJrVfgoaDqVSIn3ifx49FCflbF46yMx2V5jNI7gMNhQ1EU3E431r4uDMZtNB5NpvHUOgo+bCTTuJ4dsurXHCcndCiZDntB9UhVuyd9bVAWwM//EGIMX+zxM0IwpsuA5iWia7LKzHTGbH+6U6ZFPbvtZnfpH77EL5FEINspQFNkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림1. SSH의 동작 과정\"\n        title=\"그림1. SSH의 동작 과정\"\n        src=\"/static/152fe4e6b8bc315070eb148a1ac75bef/1c1a4/ssh-01.png\"\n        srcset=\"/static/152fe4e6b8bc315070eb148a1ac75bef/5a46d/ssh-01.png 300w,\n/static/152fe4e6b8bc315070eb148a1ac75bef/0a47e/ssh-01.png 600w,\n/static/152fe4e6b8bc315070eb148a1ac75bef/1c1a4/ssh-01.png 1046w\"\n        sizes=\"(max-width: 1046px) 100vw, 1046px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>SSH는 대칭키 방식과 비대칭키 방식을 모두 사용해서 사용자 인증과 데이터 암호화를 수행한다. 가장 먼저 클라이언트와 서버가 서로의 정체를 인증해야하는데 이 때 비대칭키 방식을 사용하고 이 후에 데이터를 전송할 때 대칭키 방식을 사용한다.</p>\n<h2 id=\"사용자-인증\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D\" aria-label=\"사용자 인증 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용자 인증</h2>\n<p>클라이언트가 비대칭키(공개키, 비밀키)를 생성할 경우에 개인 키는 사용자가 보관하고 공개 키는 서버에 복사해둔다. 그 다음 서버에서 공개 키로 난수 값을 생성하고 해시값을 만들어 저장한다. 서버는 난수값을 암호화해 클라이언트에게 전송하게 되고 클라이언트에서 암호화된 난수값을 비밀키로 복호화한다. 복호환된 값으로 해시값을 생성해 다시 서버에게 전송한다. 그럼 서버는 기존에 저장하고 있던 해시값과 전송받은 해시값을 비교해 동일하면 정상적인 클라이언트로 인지하게 된다.</p>\n<h2 id=\"데이터-암호화\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%95%94%ED%98%B8%ED%99%94\" aria-label=\"데이터 암호화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 암호화</h2>\n<p>인증이 완료되면 비대칭 키를 통해서 클라이언트와 서버는 대칭키를 서로 교환한다. 그 이후 통신되는 모든 데이터는 대칭 키(세션 키)를 통해서 암호화가 이루어진다.</p>\n<br>\n<blockquote>\n<p>암호화 방식에는 대칭키와 비대칭키 방식이 있다. 대칭키방식이란 동일한 키로 암호화와 복호화를 하는 방식이고 비대칭키 방식은 암호화와 복호화에 서로 다른 키를 사용하는 방식이다.</p>\n</blockquote>\n<h1 id=\"사용\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9\" aria-label=\"사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용</h1>\n<h2 id=\"ssh-key-존재여부-확인\" style=\"position:relative;\"><a href=\"#ssh-key-%EC%A1%B4%EC%9E%AC%EC%97%AC%EB%B6%80-%ED%99%95%EC%9D%B8\" aria-label=\"ssh key 존재여부 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH key 존재여부 확인</h2>\n<p>다음의 명령어를 통해 해당 위치에 <code class=\"language-text\">id_rsa</code> 와 <code class=\"language-text\">id_rsa_pub</code> 파일이 존재하지 않으면 SSH key가 존재하지 않는다는 의미이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ~/.ssh\n$ <span class=\"token function\">ls</span> <span class=\"token parameter variable\">-al</span></code></pre></div>\n<h2 id=\"ssh-key-생성\" style=\"position:relative;\"><a href=\"#ssh-key-%EC%83%9D%EC%84%B1\" aria-label=\"ssh key 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH key 생성</h2>\n<p>존재하지 않을 경우에 아래의 명령어로 SSH키를 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ssh-keygen</code></pre></div>\n<p>위의 명령어를 입력하면 파일명이나 경로를 설정할 수 있다. 파일명이나 경로를 다르게 설정할 경우에 적용 시에 문제가 생길 수도 있기 때문에 보통은 Enter키로 기본 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ Generating public/private rsa key pair.\n$ Enter <span class=\"token function\">file</span> <span class=\"token keyword\">in</span> <span class=\"token function\">which</span> to save the key <span class=\"token punctuation\">(</span>/Users/mac/.ssh/id_rsa<span class=\"token punctuation\">)</span>:</code></pre></div>\n<p>파일명과 경로 설정이 완료되면 SSH key의 비밀번호를 설정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ Enter passphrase <span class=\"token punctuation\">(</span>empty <span class=\"token keyword\">for</span> no passphrase<span class=\"token punctuation\">)</span>: <span class=\"token operator\">&lt;</span> 사용할 비밀번호 입력 <span class=\"token operator\">></span>\n$ Enter same passphrase again: <span class=\"token operator\">&lt;</span> 사용할 비밀번호 재입력 <span class=\"token operator\">></span></code></pre></div>\n<p><code class=\"language-text\">~/.ssh</code>의 위치에 비밀키(<code class=\"language-text\">id_rsa</code>)와 공개키(<code class=\"language-text\">id_rsa_pub</code>)라는 SSH key가 정상적으로 생성된 것을 확인할 수 있다.</p>\n<h1 id=\"참조\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%A1%B0\" aria-label=\"참조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참조</h1>\n<ul>\n<li><a href=\"https://library.gabia.com/contents/infrahosting/9002/\">https://library.gabia.com/contents/infrahosting/9002/</a></li>\n<li><a href=\"https://medium.com/@labcloud/ssh-%EC%95%94%ED%98%B8%ED%99%94-%EC%9B%90%EB%A6%AC-%EB%B0%8F-aws-ssh-%EC%A0%91%EC%86%8D-%EC%8B%A4%EC%8A%B5-33a08fa76596\">https://medium.com/@labcloud/ssh-%EC%95%94%ED%98%B8%ED%99%94-%EC%9B%90%EB%A6%AC-%EB%B0%8F-aws-ssh-%EC%A0%91%EC%86%8D-%EC%8B%A4%EC%8A%B5-33a08fa76596</a></li>\n</ul>\n<br/>","frontmatter":{"title":"SSH","date":"April 29, 2022"}}},"pageContext":{"slug":"/CS/ssh/","previous":{"fields":{"slug":"/React/react-swr/"},"frontmatter":{"title":"SWR"}},"next":{"fields":{"slug":"/Nest/nest/"},"frontmatter":{"title":"NestJS"}}}},"staticQueryHashes":["2486386679","3128451518"]}