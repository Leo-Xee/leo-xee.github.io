{"componentChunkName":"component---src-templates-blog-post-js","path":"/JavaScript/class-es5/","result":{"data":{"site":{"siteMetadata":{"title":"leo-xee.io","author":"Leo-Xee","siteUrl":"https://leo-xee.github.io","comment":{"disqusShortName":"","utterances":"leo-xee/blog-comments"},"sponsor":{"buyMeACoffeeId":"leoxexe"}}},"markdownRemark":{"id":"23ce6d8b-63de-5ab4-b61b-de29f08c0803","excerpt":"이 글에서는 ES6에서 클래스가 도입되기 전까지 사용된 방식인 프로토타입으로 클래스를 구현하는 방법과 원리를 정리합니다. ES5의 클래스 대부분의 객체지향 프로그래밍 언어와는 다르게 자바스크립트는 만들어 질 때부터 객체를 정의하고 사용하는 데에 클래스와 클래스상속을 지원하지 않았다. 이 때문에 객체지향 프로그래밍에 익숙해져있던 개발자들이 다양한 클래스 관련 라이브러리를 만들어 사용하고 있었다. 이런 배경이 결론적으로 ES6에서 Class…","html":"<p><img src=\"/b6422d8815031d57cf3948e4032caf37/thumbNail.gif\"></p>\n<p>이 글에서는 ES6에서 클래스가 도입되기 전까지 사용된 방식인 프로토타입으로 클래스를 구현하는 방법과 원리를 정리합니다.</p>\n<h1 id=\"es5의-클래스\" style=\"position:relative;\"><a href=\"#es5%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"es5의 클래스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ES5의 클래스</h1>\n<p>대부분의 객체지향 프로그래밍 언어와는 다르게 자바스크립트는 만들어 질 때부터 객체를 정의하고 사용하는 데에 클래스와 클래스상속을 지원하지 않았다. 이 때문에 객체지향 프로그래밍에 익숙해져있던 개발자들이 다양한 클래스 관련 라이브러리를 만들어 사용하고 있었다. 이런 배경이 결론적으로 ES6에서 Class 문법이 포함되도록 만들었다.</p>\n<p>하지만 그렇다고 자바스크립트의 본질인 프로토타입 기반의 설계가 바뀐 것은 아니다. 내부적으로는 여전히 프로토타입으로 클래스를 구현하고 있기 때문이다. 이 때문에 보통 Class 문법은 단순히 문법 설탕(Syntax Suger)에 지나지 않는다고도 말한다. 그러므로 ES5의 프로토타입으로 구현된 클래스를 이해하는 것은 ES6의 클래스 문법의 내부 원리를 이해하는 데에 도움이 될 수 있다.</p>\n<h1 id=\"es5의-클래스-구조\" style=\"position:relative;\"><a href=\"#es5%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4-%EA%B5%AC%EC%A1%B0\" aria-label=\"es5의 클래스 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ES5의 클래스 구조</h1>\n<p>일단 Array 생성자 함수를 예로 들면 다음과 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJUlEQVQoz4WQzU7DMBCE+/5vwwVuiFsFCBAHqERpSdKWtiHxvx07cTLYVgNUQu1Kq5HX4293PUGIYRhSxlgVSyzmdyDVO/a7GaoqA6ccWpqQGpRSMMYghEg6vht18nuIUIDRAuifYMQUH/MLuGYG2UpQV0G07Kh5hHrv/weOhbrKUX5eozWPqMsbOPsG622C6U7Ftj/eOGHXdaeBnK2h2BRW3mO9vAxrvkAFkPYy5egdzk2IQ4GSsHL3AC1u8Tq/ApUzcCew5RuUao+/oZU6DyRkh7ZZwTRbbMgaO/aV6tkyB6kZfLBVymEvHWrKTgAPqpTCgOOIkCzPYJ1Ld4vK4HmrQBLw3B9yDmM0nLNBDZrGhGkt8qIAZRyNtfCtSxm9fd8fAb8Bgbxszgew7DgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림1. Array 생성자 함수\"\n        title=\"그림1. Array 생성자 함수\"\n        src=\"/static/fb7e3556286ac50a943d05d343e4d002/c1b63/class-es5-01.png\"\n        srcset=\"/static/fb7e3556286ac50a943d05d343e4d002/5a46d/class-es5-01.png 300w,\n/static/fb7e3556286ac50a943d05d343e4d002/0a47e/class-es5-01.png 600w,\n/static/fb7e3556286ac50a943d05d343e4d002/c1b63/class-es5-01.png 1200w,\n/static/fb7e3556286ac50a943d05d343e4d002/d61c2/class-es5-01.png 1800w,\n/static/fb7e3556286ac50a943d05d343e4d002/97a96/class-es5-01.png 2400w,\n/static/fb7e3556286ac50a943d05d343e4d002/db7ce/class-es5-01.png 2404w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Array 생성자 함수는 자신만이 접근할 수 있는 <code class=\"language-text\">static method</code>, <code class=\"language-text\">static property</code> 그리고 <code class=\"language-text\">prototype</code>을 가진다. <code class=\"language-text\">prototype</code>은 <code class=\"language-text\">new</code> 연산자로 만들어진 인스턴스도 접근 가능한 method를 가진다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABAElEQVQoz4VSyWrDMBD1V+cDes8X5N57oRdj8MnQnAyOlyLrEKpgYzBJ4yhe6kUvlorVQGNnYJgnDXpvFhkYTQiBJWvbFmVZzubv3xvToes6EELAGEMcxwo3da3IKKX42G5RFAX6vkdVVQpzzjXZFDVhmqawLAuO48A0Tdi2rYjCIFAiSZIgiiJ4nqew67pKdJZQKksbhkHjNMuQH4+6ncOBqcoWW/43wwkX3zitX1C/bsCuA1ZvAd795Hc8o6AUlj5boYz3Pt7gTD5xogR0/4U4O4O3QgkKMb9I41H5eq55Dtf3wS+XKYsnH+IxobSfpkEYBtjtPNTjtv9yYvGb3QBoXWnpTERXoQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림2. 인스턴스의 접근 여부\"\n        title=\"그림2. 인스턴스의 접근 여부\"\n        src=\"/static/8fb77b78d84dfadc1c9d6e287d0232e7/c1b63/class-es5-02.png\"\n        srcset=\"/static/8fb77b78d84dfadc1c9d6e287d0232e7/5a46d/class-es5-02.png 300w,\n/static/8fb77b78d84dfadc1c9d6e287d0232e7/0a47e/class-es5-02.png 600w,\n/static/8fb77b78d84dfadc1c9d6e287d0232e7/c1b63/class-es5-02.png 1200w,\n/static/8fb77b78d84dfadc1c9d6e287d0232e7/d61c2/class-es5-02.png 1800w,\n/static/8fb77b78d84dfadc1c9d6e287d0232e7/093ec/class-es5-02.png 1930w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><code class=\"language-text\">new</code> 연산자로 생성된 인스턴스들의 접근에 대해서 좀 더 구체적으로 도식화하면 위와 같다.</p>\n<p>인스턴스는 static한 것들에 접근이 불가능하고 <code class=\"language-text\">prototype</code>의 method에만 접근이 가능하다. 그 이유는 인스턴스의 <code class=\"language-text\">__proto__</code>가 생성자 함수가 아닌 생성자 함수의 <code class=\"language-text\">prototype</code>을 참조하고 있기 때문이다.</p>\n<h2 id=\"예시\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%8B%9C\" aria-label=\"예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예시</h2>\n<p>이해가 쉽게 되지 않으니 예시를 보고 이해해보자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABfElEQVQoz42R22pTURCGA6K0DUEarWkahR2Qqtgrb3wBX6r1Sn0fbWrUkIOIN0Zzm6u8QZO99so+rrWPn5Mt1NsO/Mwwi/Ux80+jLEoSN2GrIq51wvVGEYShKMKmGbm8F2VJVVXcJhpFVRJrw3qtUL7P2lUYm9agLC9utIvlcsng8pIvwyGDz0M+Xg2lHjD6esUn6Svl0cjyHHej8b0QtfFYqy0qzIiTDONbkshKbWrg24sL7u43Oek/43Gvh+M4HLWbdB622Ns/4NfvP/+Anrsl0FGdNwIMkpzE5qSxQOP0Bvjh/TvuH3V5+voNp89f8eL0DKfvcNzt0W4/YLFY0MiLAu36BF6EVrKy0jXQpgWpKbBJ9n/C83Pu7DVp91/S6jyhdfiIk26H3vEhrYN7zOdz8VC8siYjy4o67z6bVJSlAjUiW/u5i9VqxbfRiMl0xng6FX1nMhnz88eM2XSM1lqAYrhyNZ6s7MqkfhASW0MiIGtijDFy5erWV/4LIzfZewXd/7IAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림3. 인스턴스의 접근 여부의 예시\"\n        title=\"그림3. 인스턴스의 접근 여부의 예시\"\n        src=\"/static/a15567603603e88b1fd585f54eda5f21/c1b63/class-es5-03.png\"\n        srcset=\"/static/a15567603603e88b1fd585f54eda5f21/5a46d/class-es5-03.png 300w,\n/static/a15567603603e88b1fd585f54eda5f21/0a47e/class-es5-03.png 600w,\n/static/a15567603603e88b1fd585f54eda5f21/c1b63/class-es5-03.png 1200w,\n/static/a15567603603e88b1fd585f54eda5f21/d61c2/class-es5-03.png 1800w,\n/static/a15567603603e88b1fd585f54eda5f21/373fb/class-es5-03.png 2068w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>생성자 함수 Vehicle을 만들고 <code class=\"language-text\">prototype</code>에 method를 추가한다. 자바스크립트에서는 함수도 객체이기 때문에 함수인 Vehicle에 <code class=\"language-text\">new</code> 연산자를 사용해서 인스턴스를 생성할 수 있고 이를 <code class=\"language-text\">v1</code>에 할당한다. 그러면 <code class=\"language-text\">v1</code>은 Vehicle의 <code class=\"language-text\">prototype</code>의 method를 사용할 수 있는 하나의 인스턴스로써 역할을 할 수 있다.</p>\n<p><strong>여기까지 정리하면 ES5에서는 위와 같이 <code class=\"language-text\">new</code> 연산자를 함수에 사용할 수 있다는 점과 생성된 인스턴스가 <code class=\"language-text\">__proto__</code> 를 통해 생성자 역할하는 함수의 <code class=\"language-text\">prototype</code> 에 접근할 수 있다는 자바스크립트의 특성으로 Class를 구현할 수 있다.</strong></p>\n<h1 id=\"es5의-클래스-상속\" style=\"position:relative;\"><a href=\"#es5%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D\" aria-label=\"es5의 클래스 상속 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ES5의 클래스 상속</h1>\n<p>지금까지 하나의 클래스를 생성해내는 방법을 알아봤다. 이제 객체 지향의 중요한 특징 중에 상속을 어떻게 구현해 내는지 알아보자.</p>\n<p>다음은 중복되는 개념과 메소드를 가진 2개의 클래스이다. 이를 어떻게 하면 중복을 없애고 효율적으로 구현할 수 있을까?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABE0lEQVQoz22R2W6DMBBF+f9PKiAhBan0rY9JlVBKKBAwmzFLauDW45QKJRlpNJZ95s5io+97NE2Dfhh0JBeiRZIkSNMUUkqM44goivQdxYZzVFWl2YIxuK4Lx3FAWkae59gfDijiGGXBkOYM5+8ElmlqcFCFyH3fRxiG+AwCFIliLykurMSXYt3dDrZtI8syGFitEzq0P8C8LFg2/mDXUUEThASmedaddV2nJzH+E8oCOR9wneaHfGJmlUiu6ZYjKwWelLp1KCeJ8/EI1ty6fNbhGqmb9zcP+48TuNqlLrJhtWBd13ixLHjeKwK1o1VgO+56FkLAVKytPFZ7v2e1IM3O6Yf/Km4F7gWJpY+knd2/kf0CZZsZtnYEJWMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림4. ES5의 클래스 상속1\"\n        title=\"그림4. ES5의 클래스 상속1\"\n        src=\"/static/c855f194492683541c290b9ff7feb31a/c1b63/class-es5-04.png\"\n        srcset=\"/static/c855f194492683541c290b9ff7feb31a/5a46d/class-es5-04.png 300w,\n/static/c855f194492683541c290b9ff7feb31a/0a47e/class-es5-04.png 600w,\n/static/c855f194492683541c290b9ff7feb31a/c1b63/class-es5-04.png 1200w,\n/static/c855f194492683541c290b9ff7feb31a/d61c2/class-es5-04.png 1800w,\n/static/c855f194492683541c290b9ff7feb31a/373fb/class-es5-04.png 2068w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>클래스의 상속하는 방법은 prototype을 다음과 같은 구조로 만들면 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpElEQVQoz4WS23LaMBRF+f8P4pnHlAFK2zQBm2ATy/dLYoNv2NaqbGpCG6Y9M2tGo5G29tlHE/4qKeVAX7quo2kacRjiODae52FZgtlsxmKxoCiK652xJv8SzLJsoAx9SnU5THOCKEFXj1iWRdu2nwVHgZ6u6/5YX6ssqBpJfu64Z+C2Pjm8V7njEhcXN/1DI7dmRiZN0wz2e0zTHHIKVWZCCIIgwA9C1eIO2/WViLz74O3upM/Bdd0B23EIbEF9zMjLkijLcV41DrvvCOOJU+pTlW90eYTMfIp3h656g3OqeFfr+E7L5xrqkmMDbddgbFdqonO+Lh74Ybp8eU0wRMx2I3hYr9H0JwxDZ/+ik/jmzVD6XH4PIPEjsmZIDFN/ZL38xmq5ZP3isHJyXGGQuhppFJM8C/aPWxzPJwntD4fjtCyV42ajDh9PyuyJMnFJ9x479VV+Pm8IEtVeW6kuTsihm462Pg9m2iq7CN5+k6VyMp1Omc/nFLkSzQN1MlMcoblkRZMhFX12st8b9hV1/CE4OuynezgcqOv6OkPZtRfk/+j4BdStTl6BfrQLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림5. ES5의 클래스 상속2\"\n        title=\"그림5. ES5의 클래스 상속2\"\n        src=\"/static/b6c5950fd2aa7e2b878da4dc2e0a9250/c1b63/class-es5-05.png\"\n        srcset=\"/static/b6c5950fd2aa7e2b878da4dc2e0a9250/5a46d/class-es5-05.png 300w,\n/static/b6c5950fd2aa7e2b878da4dc2e0a9250/0a47e/class-es5-05.png 600w,\n/static/b6c5950fd2aa7e2b878da4dc2e0a9250/c1b63/class-es5-05.png 1200w,\n/static/b6c5950fd2aa7e2b878da4dc2e0a9250/d61c2/class-es5-05.png 1800w,\n/static/b6c5950fd2aa7e2b878da4dc2e0a9250/373fb/class-es5-05.png 2068w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>이와 같은 구조로 구현하기 위해서는 다음과 같은 작업이 필요하다.</p>\n<ul>\n<li>1번과 같이 하위 클래스의 <code class=\"language-text\">prototype</code>을 상위 클래스의 인스턴스로 지정한다.</li>\n<li>1번으로 인해 <code class=\"language-text\">prototype</code>의 <code class=\"language-text\">constructor</code>가 없어졌기 때문에 이를 2번과 같이 복구해준다.</li>\n<li>마지막으로 <code class=\"language-text\">Vehicle</code>의 <code class=\"language-text\">prototype</code>에는 <code class=\"language-text\">getBattery()</code>가 없기 때문에 3번과 같이 추가해준다.</li>\n</ul>\n<h2 id=\"예시와-문제-발견\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%8B%9C%EC%99%80-%EB%AC%B8%EC%A0%9C-%EB%B0%9C%EA%B2%AC\" aria-label=\"예시와 문제 발견 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예시와 문제 발견</h2>\n<p>전체 소스 코드로 옮기면 다음과 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACT0lEQVQoz5WTzW7aQBSF/Q5ZFiHA5q8lMQ5JhCtBmiDULirlAfoKXXdb9W1QaaRQKXmWAInEJg0Q22OPPf6H02unTX92sfRprjdnzr3njhQ4IZjtw7RdOC6HIzjCJEa62SJNN3RusHkGkssETMuByTgs1yNsuL5AnKQ5meBzPomREDMdGKYNJhJEROBGCMIICTmMohiLxQKz2Qzzmxvc3i4wpXo6vSamuL7+c87nc0iO5cI2HDwYjJzFiMIUoYgRktCWbjQsC2fvz9DvHGPQO8bhgY56o4l6vUbUcxqNBiqVCvr9PqTQiyBIgJOY50eED5/cecLPHZokODwZYl/poKvpUPf2UCWxarX6D6VSCb1ej2ZoCKxWFpaGjQeHY2WvYXEG4Qd5MBZjGAxO8bqp47R9gm6ni8N9jYRVtNttqKqKPbqk2WxiOBxCEm4Am4RcT1DKHngQwPG9XDDLw7AY3p68wUelhi9qA593K/j0sowPrTpaVQVlalVRFBSLRei6Tg4dAc4oXcv+JZgiiLZ5OHGUUsuPDvVGG++0Ho5au9BqVewSNWpVIbI5lsvlxxly7sFxaAe5C04uAxGCU+2R03S7pfQtHBwdovRChip3IMuvIJNARVaolvMwCoUCdnZ2oGkapPXawN2PJe6Xa9yv1lg+cBiMkqf0mcXzcVxeXmL8dYyLbxf4fjHB1dUVzs/PnxiPxxiNRphMJpACSjlLOnOZJRtECb0UajdO8h3MgnneYtucXon3JOgKARH5CEMSp7az1UnTFAld8pv////mJ0sy/h8zn5nJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림6. ES5의 클래스 상속의 문제\"\n        title=\"그림6. ES5의 클래스 상속의 문제\"\n        src=\"/static/6c4a1cb34694a61710b1af2e911cab00/c1b63/class-es5-06.png\"\n        srcset=\"/static/6c4a1cb34694a61710b1af2e911cab00/5a46d/class-es5-06.png 300w,\n/static/6c4a1cb34694a61710b1af2e911cab00/0a47e/class-es5-06.png 600w,\n/static/6c4a1cb34694a61710b1af2e911cab00/c1b63/class-es5-06.png 1200w,\n/static/6c4a1cb34694a61710b1af2e911cab00/d61c2/class-es5-06.png 1800w,\n/static/6c4a1cb34694a61710b1af2e911cab00/fb458/class-es5-06.png 2362w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>위와 같이 완성된 것 같지만 여기서 한 가지 문제점을 찾을 수 있다.</p>\n<p>앞서 <code class=\"language-text\">Vehicle</code>의 <code class=\"language-text\">constructor</code>를 <code class=\"language-text\">ElectricVehicle</code>로 변경하는 바람에 <code class=\"language-text\">Vehicle</code>의 <code class=\"language-text\">property</code>에 빈 값이 할당되버린다. 이로 인해서 만약에 <code class=\"language-text\">ElectricVehicle</code>의 <code class=\"language-text\">name</code> 이나 price <code class=\"language-text\">property</code> 가 제거된다면 프로토타입 체인으로 인해서 빈 값에 접근해 개발자가 예상하지 못한 동작을 할 여지가 있다.</p>\n<h2 id=\"문제-해결\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0\" aria-label=\"문제 해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 해결</h2>\n<p><strong>위의 문제를 해결하기 위해서 <a href=\"https://ko.wikipedia.org/wiki/%EB%8D%94%EA%B8%80%EB%9D%BC%EC%8A%A4_%ED%81%AC%EB%A1%9D%ED%8F%AC%EB%93%9C\">Douglas Crockford</a>가 고안한 해결책은 빈 객체를 생성해 중간 다리로 사용하는 방법이다.</strong> 이는 다음과 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABiElEQVQoz42S646bQAyFef+36p+tVuo2SrZNyB0ChIEByiXcBsLXgbTbRGqrWDoaW+PbsW3wpAzD8PD+y8do25oRqlOovqe/XrXe0Wm7bWqauqLX+uh8w5X9fs9RQwqBjCTzxTtVVU9JDWv5Cdv8jHP6juXtsE4rXHFEON9wt6/674U83D500jQNdXlhKAuEjDic3KnQ1CFamaAlS39gHQ9U2nmUPEsJA0FdlVyKgiRJ8M7+LavqkJaNLbOHYsbviXSabqwDRsq+fwtSOmjsptdQSlE2HXHoYS5e2K3emL+9EskTmbRI0oCqCDHW6zUr02S33bCYzYjjmC9fZ4Rh8Kds39F2PROPviJwlsjYJy4SErFDuBtE5JOmYlxKS6OhdBdoqnmtuLQDQoTkl0pPYyAJIuruuWsw7rso44Ss7WkyjyK2cQ/vOLap57pEpWdyTa3OztPM77c+3NnGpExDVEQiQmk7Pm9w9nN8e8lZ+gRJQONZeutzIn/7cXN/u0nj1y8Dz8v/jvsnweADvqqN5VcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림7. ES5의 클래스 상속의 문제 해결 1\"\n        title=\"그림7. ES5의 클래스 상속의 문제 해결 1\"\n        src=\"/static/cc5fc0dae10bba2c1f10cc07d360c790/c1b63/class-es5-07.png\"\n        srcset=\"/static/cc5fc0dae10bba2c1f10cc07d360c790/5a46d/class-es5-07.png 300w,\n/static/cc5fc0dae10bba2c1f10cc07d360c790/0a47e/class-es5-07.png 600w,\n/static/cc5fc0dae10bba2c1f10cc07d360c790/c1b63/class-es5-07.png 1200w,\n/static/cc5fc0dae10bba2c1f10cc07d360c790/d61c2/class-es5-07.png 1800w,\n/static/cc5fc0dae10bba2c1f10cc07d360c790/90eea/class-es5-07.png 2254w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABrUlEQVQoz5WS3WoaURDH9xXEiHcaPxKFLVlNraFXAemN7yLRu9S2gq8juARsfJmaNjZazdpqdHfVdT/89exKUylNSQd+zJzhnDkzzF/abrf8C99873lewNb7Hf8NiSdsv9j/mLQ0N8wMi+VqjW072K6LI/BEIdf1gkvaZEK9Xud9/R2NDw0u3zaoVi8E1YBarUalUqHZbCLdDUZ8HY4ZjTVG9xrftRmD4Yj5Qme1tnBFg596PY4Sx+RTp7yU88RjhxxEDohEIgHRaJRQKEQ+n0caDsaMRbH+3YDx/YRv2gJtZvAgmGoP6OaS3s0NOSXHK7nIWe41xeJZ8PgXiqIgyzLlchlps3JYLS10w2RtbbBsl40jxhZsLDsY+bbfR34hc547p3T6RsQnZLMZMpmM8NmAdDpNqVRCms5Npj8WLHRjh2mgr00x7hLTmOOKzX3+ckv8MM5R7JiTpEIqlQkKJJNJEokEsViMcDhMoVBAsv2OxDL8BfiLeMTb4ZsuPlJVFbWtctW+4vrjNZ1OZ5cTtNttWq0W3W73adn8KZ9ny+a5wnYc5xHXl9beeT//E0QNlW1CVcB+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림8. ES5의 클래스 상속의 문제 해결 2\"\n        title=\"그림8. ES5의 클래스 상속의 문제 해결 2\"\n        src=\"/static/a77a5280f41d3f9a6638e2f8c6ee5e0d/c1b63/class-es5-08.png\"\n        srcset=\"/static/a77a5280f41d3f9a6638e2f8c6ee5e0d/5a46d/class-es5-08.png 300w,\n/static/a77a5280f41d3f9a6638e2f8c6ee5e0d/0a47e/class-es5-08.png 600w,\n/static/a77a5280f41d3f9a6638e2f8c6ee5e0d/c1b63/class-es5-08.png 1200w,\n/static/a77a5280f41d3f9a6638e2f8c6ee5e0d/d61c2/class-es5-08.png 1800w,\n/static/a77a5280f41d3f9a6638e2f8c6ee5e0d/fe83d/class-es5-08.png 2262w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><strong>이렇게 빈 객체를 중간 연결 다리로 사용하면 <code class=\"language-text\">Vehicle</code>의 <code class=\"language-text\">property</code>로 인해서 문제가 발생하는 것을 방지할 수 있다.</strong> 하지만 이렇게 매번 구현하기는 귀찮고 비효율적이기 때문에 다음과 같이 함수화해서 사용한다.</p>\n<h2 id=\"함수화\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98%ED%99%94\" aria-label=\"함수화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수화</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> extendClass <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">Bridge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">Parent<span class=\"token punctuation\">,</span> Child</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 클로저</span>\n    <span class=\"token class-name\">Bridge</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token class-name\">Parent</span><span class=\"token punctuation\">.</span>prototype\n    <span class=\"token class-name\">Child</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Bridge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">Child</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>construtor <span class=\"token operator\">=</span> Child\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 즉시 실행 함수(IIFE)</span></code></pre></div>\n<p><strong>즉시 실행 함수(IIFE)로 <code class=\"language-text\">Bridge 함수</code>를 클로저로 반환해주고 있기 때문에 전역 실행 컨텍스트에서 계속 접근할 수 있도록 남아 있게되고 중복으로 인해 메모리 낭비가 될 여지도 없다.</strong></p>\n<h2 id=\"함수-적용\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98-%EC%A0%81%EC%9A%A9\" aria-label=\"함수 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수 적용</h2>\n<p>최종적으로 위의 함수를 사용해서 클래스 상속을 구현한 코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> extendClass <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">Bridge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">Parent<span class=\"token punctuation\">,</span> Child</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Bridge</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token class-name\">Parent</span><span class=\"token punctuation\">.</span>prototype\n    <span class=\"token class-name\">Child</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Bridge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">Child</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>construtor <span class=\"token operator\">=</span> Child\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">extendClass</span><span class=\"token punctuation\">(</span>Vehicle<span class=\"token punctuation\">,</span> ElectricVehicle<span class=\"token punctuation\">)</span>\n<span class=\"token class-name\">ElectricVehicle</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getBattery</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>battery\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"참조\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%A1%B0\" aria-label=\"참조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참조</h1>\n<ul>\n<li><a href=\"https://www.inflearn.com/course/%ED%95%B5%EC%8B%AC%EA%B0%9C%EB%85%90-javascript-flow/\">https://www.inflearn.com/course/%ED%95%B5%EC%8B%AC%EA%B0%9C%EB%85%90-javascript-flow/</a></li>\n<li><a href=\"https://infoscis.github.io/2018/02/13/ecmascript-6-introducing-javascript-classes/\">https://infoscis.github.io/2018/02/13/ecmascript-6-introducing-javascript-classes/</a></li>\n</ul>\n<br>","frontmatter":{"title":"[JS] 클래스의 내부 구조","date":"February 08, 2022"}}},"pageContext":{"slug":"/JavaScript/class-es5/","previous":{"fields":{"slug":"/React/react-setup-eslint/"},"frontmatter":{"title":"밑바닥부터 React 개발 환경 구축하기 - 3. Eslint와 Prettier"}},"next":{"fields":{"slug":"/JavaScript/callby-value-reference/"},"frontmatter":{"title":"[JS] Call by value와 Call by reference"}}}},"staticQueryHashes":["2486386679","3128451518"]}