{"componentChunkName":"component---src-templates-blog-post-js","path":"/JavaScript/this/","result":{"data":{"site":{"siteMetadata":{"title":"leo-xee.io","author":"Leo-Xee","siteUrl":"https://leo-xee.github.io","comment":{"disqusShortName":"","utterances":"leo-xee/blog-comments"},"sponsor":{"buyMeACoffeeId":"leoxexe"}}},"markdownRemark":{"id":"7792d677-052c-586e-9c74-e098010c6033","excerpt":"this란?  자바스크립트는 실행 컨텍스트 내부에  이라는  를 담당하는 객체가 있기 때문에 의 바인딩은 해당 실행 컨텍스트가 생성될 때 세팅된다. 즉, 실행 컨텍스트는 함수가 호출될 때 생성되기 때문에 는 함수가 호출되는 순간에 결정된다고 할 수 있다. 더나아가 함수가 호출될 때 결정되므로 함수가 호출되는 방식에 따라서 는 얼마든지 달라질 수 있다. this의 5가지 경우  전역 공간 전역공간(Global Scope)에서의 는 전역 객체를 가리킨다. 구체적으로는 브라우저 환경에서는 , Node…","html":"<p><img src=\"/b6422d8815031d57cf3948e4032caf37/thumbNail.gif\"></p>\n<h1 id=\"this란\" style=\"position:relative;\"><a href=\"#this%EB%9E%80\" aria-label=\"this란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>this란?</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVQoz42STU8TURSG+TtuXJi41CiyEKmCCAWBgoAVW0EDGAVUWr6hURMTYnSBiShuSASEWCIUwQ/iAquQ2hZIJMCIQBFaSqel0D7ezizE4sKbPPMmc89973vOTEI0GuV/VvQf7CsQjwRFdn2EF7oJzXaw7e5ky/4Mvz2mKtuTz4lMvWA3jvBkF9tfnrIj9RGNbCq+qmF4Gdl2jlDvQTYfHcGZn4RddwzHhRM4C47z/YaO2fqrTNcamTYZmTFfYUbo2t0avE165BE90ahHNVSS7qzis+lwdRxi/fFJlg1ZSIZMloxaVgwZSKYKnJYGptvqcLWacTTX4mwx4bY0Md9YTvDdNWH4S2lbNYyssjSQzXDbAaQHScyXpOMoOo3rYirfClNYvFOGu+U27sYqXIKf9+vZaG9mvd3CuqUSeaxMGK7taVkkDIzk4O85jOdhIp+zTzGRk8y3fA1+YyZSTSlT5mqc5iocppuKLraZ2Wy/h7f1OvJo6Z+E6gxXkN8XEbImIj1JpkvMr1N3lH59Er56cVFDHv5GHVsCf4MOb12eIFeQj9ecQXC8QnyUvQmFYXCiXKTMFreJg29zFXzDOcz1aJH6s8RIslh8pWVt8DzBsTwCYl8eFWrTEpq6Jbr0xBl+MhCwaggMnUV+k0ZQqM+aylx3CtJLDUu9Gn70aFgbOIM8lEZA1ASG0tmyphC0V4pfL84w9LUa+UMx8ngJ8sdLoo0SNkb1zPQVsPC6EGmwSMFjK1b21JrL6qgc5riEkbB4sSFu8f4FMfCJghheVSPefXXKWeERW78BATvTCARos6EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림1. 실행 컨텍스트의 ThisBinding\"\n        title=\"그림1. 실행 컨텍스트의 ThisBinding\"\n        src=\"/static/bc886e4aeda65b660712c253a74e0eb9/c1b63/this-01.png\"\n        srcset=\"/static/bc886e4aeda65b660712c253a74e0eb9/5a46d/this-01.png 300w,\n/static/bc886e4aeda65b660712c253a74e0eb9/0a47e/this-01.png 600w,\n/static/bc886e4aeda65b660712c253a74e0eb9/c1b63/this-01.png 1200w,\n/static/bc886e4aeda65b660712c253a74e0eb9/84f4d/this-01.png 1208w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>자바스크립트는 실행 컨텍스트 내부에 <code class=\"language-text\">ThisBinding</code> 이라는 <code class=\"language-text\">this</code> 를 담당하는 객체가 있기 때문에 <code class=\"language-text\">this</code>의 바인딩은 해당 실행 컨텍스트가 생성될 때 세팅된다. 즉, 실행 컨텍스트는 함수가 호출될 때 생성되기 때문에 <code class=\"language-text\">this</code>는 함수가 호출되는 순간에 결정된다고 할 수 있다. 더나아가 함수가 호출될 때 결정되므로 함수가 호출되는 방식에 따라서 <code class=\"language-text\">this</code>는 얼마든지 달라질 수 있다.</p>\n<h1 id=\"this의-5가지-경우\" style=\"position:relative;\"><a href=\"#this%EC%9D%98-5%EA%B0%80%EC%A7%80-%EA%B2%BD%EC%9A%B0\" aria-label=\"this의 5가지 경우 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>this의 5가지 경우</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVQY04WRsU7CABRF/RcHGWTEaBic/CUjAzE6oKEJUEAcABOhqSAtVTQODMZIrCZtLRSQYGBx8h8sHEuVOBj0Jjd57w0n9+Yt4Wk6nTKdTGYj729Dhk8Kr0YD50Gjq9exzUccp4tpmr4ty6LdbjMej5lrxphpab5M3A//0L8rYokBzNw6tWgQeSeAXIhTv7giLYokEglSqRSaptFsNnFd92/gS6uMeRTCzG9xfRimsrvG6fEBlarigZIIgoDogUulkg+cfDdbnNADGtkQN8Iml7Ew1b0NMvEIYiZHNpPxYcnkF1hV1f8rD+6L3MaWkSJBlOgq5e0VTrL7nCsaxUKedDqNJEnIskyj0Vic8OcpA7qtM3q6Sl9XcFo1ng2dXq+PbdsYhkGn0/E9Go1+JfwEAqaTdcJeM9YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림2. this의 5가지 경우\"\n        title=\"그림2. this의 5가지 경우\"\n        src=\"/static/98c33fd3228636d765d5d20f8be574a9/c1b63/this-02.png\"\n        srcset=\"/static/98c33fd3228636d765d5d20f8be574a9/5a46d/this-02.png 300w,\n/static/98c33fd3228636d765d5d20f8be574a9/0a47e/this-02.png 600w,\n/static/98c33fd3228636d765d5d20f8be574a9/c1b63/this-02.png 1200w,\n/static/98c33fd3228636d765d5d20f8be574a9/21b4d/this-02.png 1280w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"전역-공간\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%97%AD-%EA%B3%B5%EA%B0%84\" aria-label=\"전역 공간 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전역 공간</h2>\n<p><strong>전역공간(Global Scope)에서의 <code class=\"language-text\">this</code>는 전역 객체를 가리킨다.</strong> 구체적으로는 브라우저 환경에서는 <code class=\"language-text\">window</code>, Node 환경에서는 <code class=\"language-text\">global</code>를 가리킨다. 참고로 <code class=\"language-text\">window</code>와 <code class=\"language-text\">global</code> 객체는 ECMAscript에 명세된 전역 객체에 대한 내용의 구현체이다.</p>\n<h2 id=\"함수-호출-시\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98-%ED%98%B8%EC%B6%9C-%EC%8B%9C\" aria-label=\"함수 호출 시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수 호출 시</h2>\n<p><strong>함수를 실행한 부분의 공간은 실질적으로 전역공간이기 때문에 함수 호출 시의 <code class=\"language-text\">this</code>는 전역 객체를 가리킨다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 전역 객체(window/global) 출력</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>하지만 아래의 예시를 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 전역 객체(window/global) 출력</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">함수 c</code> 를 호출한 부분을 보면 <code class=\"language-text\">함수 b</code>의 내부에서 실행했기 때문에 <code class=\"language-text\">함수 c</code>의 <code class=\"language-text\">this</code>는 <code class=\"language-text\">함수 b</code>가 되어야 했지만 전역 객체가 출력된다.</p>\n<p><strong>이렇게 this 바인딩이 일관성이 없는 이유는 자바스크립트의 아버지인 Brendan Eich가 자바스크립트를 2주도 안 되는 시간 동안 만든 데에 의한 실수라고도 할 수 있다.</strong> 이런 이유 때문에 함수명()과 같이 함수로써 실행된 <code class=\"language-text\">this</code> 는 전역 객체라고 암기하는 게 편한다.</p>\n<h2 id=\"메소드-호출-시\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EC%86%8C%EB%93%9C-%ED%98%B8%EC%B6%9C-%EC%8B%9C\" aria-label=\"메소드 호출 시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>메소드 호출 시</h2>\n<p><strong>메소드 호출 시에 <code class=\"language-text\">this</code>는 메소드를 호출한 주체(메소드 명 앞)이다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">c</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// a.b를 출력({c: f()})</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\na<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">.</span><span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 메소드 c를 호출한 주체는 a.b(객체 b)</span></code></pre></div>\n<h3 id=\"메소드-우회-방법\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EC%86%8C%EB%93%9C-%EC%9A%B0%ED%9A%8C-%EB%B0%A9%EB%B2%95\" aria-label=\"메소드 우회 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>메소드 우회 방법</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">b</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 20 출력</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 10 출력</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">obj.b()</code> 는 <code class=\"language-text\">obj</code> 의 메소드를 실행했기 떄문에 이 때의 <code class=\"language-text\">this</code>는 <code class=\"language-text\">obj</code>를 가리킨다. 그래서 <code class=\"language-text\">함수 b</code>의 <code class=\"language-text\">this.a</code>는 <code class=\"language-text\">20</code>을 출력한다. 하지만 <code class=\"language-text\">c()</code>를 호출한 부분을 보면 그냥 함수로써 실행했기 때문에 전역 객체의 <code class=\"language-text\">a</code>의 값인 <code class=\"language-text\">10</code>을 출력한다.</p>\n<p>이 문제를 해결하기 위해서는 아래의 예시처럼 우회하는 방법이 있다.(ES6 이전에는 이런 식으로 <code class=\"language-text\">this</code>를 컨트롤 했다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">b</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> self <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 20 출력</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 20 출력!!!</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>나머지는 동일하니 <code class=\"language-text\">console.log(self.a)</code>를 실행하기 위해서 실행 컨텍스트의 <code class=\"language-text\">outerEnvironmentRecord</code> 를 통해서 <code class=\"language-text\">var self = this</code> 의 <code class=\"language-text\">this</code> 를 찾는다. 여기서 <code class=\"language-text\">this</code>는 <code class=\"language-text\">obj</code> 이기 때문에 <code class=\"language-text\">10</code>이 아닌 <code class=\"language-text\">20</code>이 출력된다.</p>\n<h2 id=\"콜백-호출-시\" style=\"position:relative;\"><a href=\"#%EC%BD%9C%EB%B0%B1-%ED%98%B8%EC%B6%9C-%EC%8B%9C\" aria-label=\"콜백 호출 시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>콜백 호출 시</h2>\n<p><strong>콜백 호출 시에는 기본적으로 함수 호출 시와 동일하게 <code class=\"language-text\">this</code>는 전역 객체를 가리킨다. 하지만 제어권을 가진 함수가 콜백의 <code class=\"language-text\">this</code>를 지정한 경우에는 지정된 <code class=\"language-text\">this</code>를 따른다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">callback</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 전역 객체(window/global)</span></code></pre></div>\n<p>하지만 아래의 예시에서 <code class=\"language-text\">this</code>는 전역 객체를 가리키지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;div class=\"a\">Click&lt;/div>'</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// div.a 출력</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위의 코드를 실행한 결과는 <code class=\"language-text\">div.a</code> 엘리먼트가 출력된다. 그 이유는 <code class=\"language-text\">addEventListener 함수</code>는 콜백을 처리할 때의 <code class=\"language-text\">this</code>를 이벤트가 적용된 엘리먼트를 가리키도록 명시해놨기 때문이다.</p>\n<p>정리하면 콜백 호출 시의 <code class=\"language-text\">this</code>는 기본적으로 함수 호출 시의 <code class=\"language-text\">this</code>를 따르되 제어권을 가진 함수가 <code class=\"language-text\">this</code>를 따로 명시한 경우에는 그에 따린다.</p>\n<h2 id=\"생성자함수-호출-시\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1%EC%9E%90%ED%95%A8%EC%88%98-%ED%98%B8%EC%B6%9C-%EC%8B%9C\" aria-label=\"생성자함수 호출 시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성자함수 호출 시</h2>\n<p><strong>생성자함수 호출 시에 <code class=\"language-text\">this</code>는 <code class=\"language-text\">new 연산자</code>로 생성된 인스턴스를 가리킨다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Book</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">title<span class=\"token punctuation\">,</span> pages</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> title\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pages <span class=\"token operator\">=</span> pages\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> factfullness <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Book</span><span class=\"token punctuation\">(</span><span class=\"token string\">'factfullness'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">450</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>factfullness<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Book {title: 'factfullness', pages: 450}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Book</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">title<span class=\"token punctuation\">,</span> pages</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> title\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pages <span class=\"token operator\">=</span> pages\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> factfullness <span class=\"token operator\">=</span> <span class=\"token function\">Book</span><span class=\"token punctuation\">(</span><span class=\"token string\">'factfullness'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">450</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">)</span> <span class=\"token comment\">// factfullness 450</span></code></pre></div>\n<h1 id=\"참조\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%A1%B0\" aria-label=\"참조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참조</h1>\n<ul>\n<li><a href=\"https://bit.ly/3L1uo8d\">https://bit.ly/3L1uo8d</a></li>\n</ul>\n<br/>","frontmatter":{"title":"[JS] this","date":"December 02, 2021"}}},"pageContext":{"slug":"/JavaScript/this/","previous":{"fields":{"slug":"/JavaScript/execution-context/"},"frontmatter":{"title":"[JS] 실행 컨텍스트"}},"next":{"fields":{"slug":"/PS/b4673/"},"frontmatter":{"title":"[백준/JS] 4673번 - 셀프 넘버"}}}},"staticQueryHashes":["2486386679","3128451518"]}